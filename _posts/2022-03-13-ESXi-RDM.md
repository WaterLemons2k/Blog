---
layout: post
title: ESXi使用RDM直通硬盘
---
引用:https://www.77bx.com/60.html

# 1.启用SSH

1.1 登陆ESXi，点击`操作` -> `服务` -> `启用安全 Shell (SSH)`  
![EnableSSH](/assets/ESXi-RDM/EnableSSH.png)

# 2.查询硬盘

2.1 点击`存储` -> `设备`，找到要直通的硬盘（本文为`t10.ATA______VMware_Virtual_SATA_Hard_Drive___________00000000000000000001`），这是后文所指的`disk`  
![disk](/assets/ESXi-RDM/disk.png)
2.2 点击`存储` -> `数据存储`，找到要存储`RDM文件`的`数据存储`（本文为`datastore1`），这是后文所指的`datastore`  
![datastore](/assets/ESXi-RDM/datastore.png)

# 3.开始直通
3.1 连接到ESXi的SSH，然后执行:
```
vmkfstools -z /vmfs/devices/disks/disk /vmfs/volumes/datastore/1.vmdk
```
以下是示例:
```
vmkfstools -z /vmfs/devices/disks/t10.ATA______VMware_Virtual_SATA_Hard_Drive___________00000000000000000001 /vmfs/volumes/datastore1/1.vmdk
```
3.2 回到数据存储里检查一下  
![file](/assets/ESXi-RDM/file.png)  
完成!